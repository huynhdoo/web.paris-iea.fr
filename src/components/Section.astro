---
import { getCollection } from "astro:content";
import LinkButton from "@components/LinkButton.astro";
import Card from "@components/Card.astro";
import slugify from "@utils/slugify";
import { Icon } from "astro-icon";

const { icon, title, collection, more } = Astro.props;
const papers = await getCollection(collection);
---

<section class="mt-12">
  <h2 class="mb-4 text-2xl font-semibold tracking-wide">
    <Icon pack="carbon" name={icon} class="mb-1" />
    <a
      href={`/${collection}`}
      class="hover:underline hover:decoration-dashed hover:decoration-2 hover:underline-offset-4"
    >
      {title}</a
    >
    <Icon pack="carbon" name="arrow-right" />
  </h2>

  <ul class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4">
    {
      papers.map(
        ({ data }, index) =>
          index < 3 && (
            <Card
              href={`/${collection}/${slugify(data)}`}
              frontmatter={data}
              secHeading={false}
            />
          )
      )
    }
  </ul>
</section>
